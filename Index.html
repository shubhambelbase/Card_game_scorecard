<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Card Game Score</title>
<style>
* { box-sizing: border-box; font-family:"Poppins", sans-serif; }
body {
  background: linear-gradient(135deg, #000000, #1a1a1a, #2c2c2c);
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:30px 10px;
}
h1 {
  font-size:2.3em;
  margin-bottom:20px;
  text-align:center;
  background: linear-gradient(90deg, #00f5ff, #ff00e6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 10px rgba(255,255,255,0.2);
}
.card {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(15px);
  border-radius:25px;
  padding:30px;
  width:100%;
  max-width:650px;
  box-shadow:0 15px 40px rgba(0,0,0,0.6);
}
.controls {
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:25px;
}
input {
  padding:12px 15px;
  border:none;
  border-radius:12px;
  outline:none;
  width:220px;
  font-size:1em;
  background: rgba(255,255,255,0.1);
  color:#fff;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.4);
}
input::placeholder { color:#ccc; }

button {
  border:none;
  padding:12px 22px;
  border-radius:15px;
  font-weight:bold;
  cursor:pointer;
  font-size:1em;
  transition:0.3s;
  color:#fff;
  box-shadow:0 4px 20px rgba(0,0,0,0.4);
}
button:hover { transform:scale(1.08); }

.add { background: linear-gradient(45deg,#00ff87,#60efff); }
.subtract { background: linear-gradient(45deg,#ff5858,#f09819); }
.end-game { background: linear-gradient(45deg,#ff00cc,#333399); }
.new-game { background: linear-gradient(45deg,#00c6ff,#0072ff); }
button#addPlayerBtn { background: linear-gradient(45deg,#ff6a00,#ee0979); }

table {
  width:100%;
  border-collapse:collapse;
  text-align:center;
  margin-top:10px;
}
th, td { padding:14px; }
th {
  background: rgba(255,255,255,0.1);
  color:#00f5ff;
  border-radius:10px;
}
td {
  border-bottom:1px solid rgba(255,255,255,0.1);
  font-weight:600;
  font-size:1.1em;
  position:relative;
}
.score-btn {
  padding:10px 18px;
  border-radius:12px;
  margin:0 5px;
  cursor:pointer;
  font-weight:700;
  font-size:1em;
  transition:0.2s;
  color:#fff;
  box-shadow:0 3px 8px rgba(0,0,0,0.3);
}
.score-btn:hover { transform:scale(1.1); }

.floating {
  position:absolute;
  font-weight:bold;
  font-size:1.2em;
  animation:floating 1s ease-out forwards;
  color:#0ff;
  text-shadow:0 0 6px rgba(0,255,255,0.5);
}
@keyframes floating {
  0%{opacity:1; transform:translateY(0);}
  100%{opacity:0; transform:translateY(-30px) scale(1.3);}
}

.popup {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.8);
  display:none; justify-content:center; align-items:center;
  z-index:100;
}
.popup-content {
  background: linear-gradient(135deg,#232526,#414345);
  color:#fff;
  border-radius:25px;
  padding:40px 50px;
  text-align:center;
  box-shadow:0 10px 40px rgba(0,0,0,0.6);
  animation:pop 0.4s ease forwards;
}
.popup-content button {
  background: linear-gradient(45deg,#43e97b,#38f9d7);
  color:#000;
}
@keyframes pop {
  0%{transform:scale(0.5); opacity:0;}
  100%{transform:scale(1); opacity:1;}
}

.confetti {
  position:fixed;
  font-size:2rem;
  animation:explode 3s linear forwards;
  pointer-events:none;
  z-index:200;
}
@keyframes explode {
  0%{opacity:1; transform:translate(0,0) rotate(0deg);}
  100%{opacity:0; transform:translate(var(--x),var(--y)) rotate(720deg);}
}
</style>
</head>
<body>

<h1>üÉè Card Game Scoreboard</h1>

<div class="card">
  <div class="controls">
    <input type="text" id="playerName" placeholder="Enter player name">
    <button id="addPlayerBtn" onclick="addPlayer()">Add Player</button>
    <button class="end-game" onclick="endGame()">üèÅ End Game</button>
    <button class="new-game" onclick="newGame()">üîÑ New Game</button>
  </div>

  <table id="scoreTable">
    <thead>
      <tr><th>Player</th><th>Score</th><th>Action</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<div class="popup" id="winnerPopup">
  <div class="popup-content">
    <h2>üéâ Congratulations!</h2>
    <p id="winnerText"></p>
    <button onclick="closePopup()">OK</button>
  </div>
</div>

<audio id="winSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1e631f83c9.mp3?filename=success-fanfare-trumpets-6185.mp3"></audio>

<script>
const tableBody = document.querySelector("#scoreTable tbody");
const popup = document.getElementById("winnerPopup");
const winnerText = document.getElementById("winnerText");
const winSound = document.getElementById("winSound");

function addPlayer(){
  const nameInput = document.getElementById("playerName");
  const name = nameInput.value.trim();
  if(name==="") return alert("Enter player name!");
  for(let row of tableBody.rows){ if(row.cells[0].textContent===name) return alert("Player exists!"); }
  const row = document.createElement("tr");
  row.innerHTML=`<td>${name}</td><td class="score">0</td>
  <td>
    <button class="score-btn add" onclick="changeScore(this,1)">+1</button>
    <button class="score-btn subtract" onclick="changeScore(this,-1)">‚àí1</button>
  </td>`;
  tableBody.appendChild(row);
  nameInput.value="";
}

function changeScore(button,value){
  const scoreCell = button.parentElement.parentElement.querySelector(".score");
  let score = parseInt(scoreCell.textContent);
  score+=value;
  scoreCell.textContent = score;
  showFloating(scoreCell, value);
}

function showFloating(cell,value){
  const float = document.createElement("div");
  float.classList.add("floating");
  float.textContent = (value>0?"+1":"‚àí1");
  cell.appendChild(float);
  setTimeout(()=>float.remove(),1000);
}

function endGame(){
  if(tableBody.rows.length===0) return alert("Add players first!");
  let winner=null, high=-Infinity;
  for(let row of tableBody.rows){
    const total = parseInt(row.querySelector(".score").textContent);
    if(total>high){ high=total; winner=row.cells[0].textContent; }
  }
  if(winner){
    winnerText.textContent=`${winner} wins with ${high} points! üéØ`;
    popup.style.display="flex";
    explodeEmojis("üéâ",3000);
    winSound.play();
  }
}

function newGame(){
  tableBody.innerHTML="";
  document.getElementById("playerName").value="";
}
function closePopup(){
  popup.style.display="none";
}
function explodeEmojis(emoji,duration=3000){
  const interval=50; const total=duration/interval; let count=0;
  const timer=setInterval(()=>{
    const confetti=document.createElement("div");
    confetti.classList.add("confetti");
    confetti.textContent=emoji;
    confetti.style.left=Math.random()*100+"vw";
    confetti.style.top=Math.random()*50+"vh";
    confetti.style.setProperty("--x",`${(Math.random()-0.5)*200}px`);
    confetti.style.setProperty("--y",`${(Math.random()-0.7)*300}px`);
    document.body.appendChild(confetti);
    setTimeout(()=>confetti.remove(),3000);
    count++; if(count>=total) clearInterval(timer);
  },interval);
}
</script>

</body>
</html>
